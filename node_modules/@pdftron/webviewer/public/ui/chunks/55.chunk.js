(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{1729:function(t,o,e){var n=e(31),a=e(1730);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var i={insert:function(t){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(t);let o;o=document.getElementsByTagName("apryse-webviewer"),o.length||(o=function t(o,e=document){const n=[];return e.querySelectorAll(o).forEach(t=>n.push(t)),e.querySelectorAll("*").forEach(e=>{e.shadowRoot&&n.push(...t(o,e.shadowRoot))}),n}("apryse-webviewer"));const e=[];for(let n=0;n<o.length;n++){const a=o[n];if(0===n)a.shadowRoot.appendChild(t),t.onload=function(){e.length>0&&e.forEach(o=>{o.innerHTML=t.innerHTML})};else{const o=t.cloneNode(!0);a.shadowRoot.appendChild(o),e.push(o)}}},singleton:!1};n(a,i);t.exports=a.locals||{}},1730:function(t,o,e){(o=t.exports=e(32)(!1)).push([t.i,".open.CalibrationModal{visibility:visible}.closed.CalibrationModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.CalibrationModal{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.CalibrationModal .modal-container .wrapper .modal-content{padding:10px}.CalibrationModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.CalibrationModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.CalibrationModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.CalibrationModal .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.CalibrationModal .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.CalibrationModal .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.CalibrationModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.CalibrationModal .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.CalibrationModal .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.CalibrationModal .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .footer .modal-button{padding:23px 8px}}.CalibrationModal .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .swipe-indicator{display:none}}.CalibrationModal .container{border-radius:4px;overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .CalibrationModal .container,.CalibrationModal .App:not(.is-web-component) .container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .CalibrationModal .container,.CalibrationModal .App.is-web-component .container{overflow:auto;max-height:100%}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .container,.CalibrationModal .App:not(.is-in-desktop-only-mode):not(.is-web-component) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .container,.CalibrationModal .App.is-web-component:not(.is-in-desktop-only-mode) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}.CalibrationModal .container{display:flex;flex-direction:column;min-width:400px;box-shadow:0 0 3px 0 var(--document-box-shadow);padding:8px;background:var(--component-background)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CalibrationModal .container{padding:24px 24px 16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CalibrationModal .container{padding:24px 24px 16px}}.CalibrationModal .container .calibration__header{font-size:16px;margin-top:8px;margin-bottom:8px}.CalibrationModal .container .calibration__body{padding-top:8px}.CalibrationModal .container .calibration__body .calibration__input{margin-top:8px;display:flex;flex-direction:row;justify-content:space-between}.CalibrationModal .container .calibration__body input{width:100%;height:30px;font-size:13px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding:4px 42px 6px 8px;margin-right:8px}.CalibrationModal .container .calibration__body input:focus{outline:none;border:1px solid var(--focus-border)}.CalibrationModal .container .calibration__body input::-moz-placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body input:-ms-input-placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body input::placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body .error{border:1px solid var(--error-border-color)}.CalibrationModal .container .calibration__body .unitToInput{height:29px;width:45px;border-radius:5px;border:1px solid var(--border);font-size:13px}.CalibrationModal .container .calibration__body .unitToInput:focus{outline:none;border:1px solid var(--focus-border)}.CalibrationModal .container .calibration__body .unitToInput::-moz-placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body .unitToInput:-ms-input-placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body .unitToInput::placeholder{color:var(--placeholder-text)}.CalibrationModal .container .calibration__body .errorMeasurement{font-size:13px;margin-top:8px;margin-bottom:8px;color:var(--error-text-color);max-width:400px}.CalibrationModal .container .calibration__footer{display:flex;justify-content:flex-end;margin-top:8px}.CalibrationModal .container .calibration__footer .Button{display:flex;justify-content:center;align-items:center;color:var(--primary-button-text);font-weight:600;padding:6px 18px;margin-top:8px;margin-left:5px;width:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background:var(--primary-button);border-radius:4px;height:30px;cursor:pointer}.CalibrationModal .container .calibration__footer .Button:hover{background:var(--primary-button-hover)}",""]),o.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1854:function(t,o,e){"use strict";e.r(o);e(407),e(154),e(141),e(17),e(1727),e(26),e(42),e(19),e(12),e(14),e(7),e(13),e(9),e(10),e(11),e(16),e(15),e(20);var n=e(0),a=e.n(n),i=e(18),r=e.n(i),l=e(6),d=e(401),c=e(47),p=e(1),s=e(40),u=e(185);function b(t,o){return function(t){if(Array.isArray(t))return t}(t)||function(t,o){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,a,i,r,l=[],d=!0,c=!1;try{if(i=(e=e.call(t)).next,0===o){if(Object(e)!==e)return;d=!1}else for(;!(d=(n=i.call(e)).done)&&(l.push(n.value),l.length!==o);d=!0);}catch(t){c=!0,a=t}finally{try{if(!d&&null!=e.return&&(r=e.return(),Object(r)!==r))return}finally{if(c)throw a}}return l}}(t,o)||function(t,o){if(!t)return;if("string"==typeof t)return m(t,o);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return m(t,o)}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,o){(null==o||o>t.length)&&(o=t.length);for(var e=0,n=new Array(o);e<o;e++)n[e]=t[e];return n}var f=function(t){var o=b(t.split("/"),2),e=o[0],n=o[1];return Number(e)/Number(n)},h=e(2),x=e(3),y=e(142),v=e(5);e(1729);function w(t,o){return function(t){if(Array.isArray(t))return t}(t)||function(t,o){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var n,a,i,r,l=[],d=!0,c=!1;try{if(i=(e=e.call(t)).next,0===o){if(Object(e)!==e)return;d=!1}else for(;!(d=(n=i.call(e)).done)&&(l.push(n.value),l.length!==o);d=!0);}catch(t){c=!0,a=t}finally{try{if(!d&&null!=e.return&&(r=e.return(),Object(r)!==r))return}finally{if(c)throw a}}return l}}(t,o)||function(t,o){if(!t)return;if("string"==typeof t)return g(t,o);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return g(t,o)}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,o){(null==o||o>t.length)&&(o=t.length);for(var e=0,n=new Array(o);e<o;e++)n[e]=t[e];return n}var M=function(t){var o=t.Measure.axis[0].factor;switch(t.Scale[1][1]){case"ft-in":return t.getLineLength()*o/12;case"in":default:return t.getLineLength()*o}},C=/^\d*(\.\d*)?$/,_=/^\d*(\s\d\/\d*)$/,A=/^(\d\/\d*)*$/,E=function(){var t=w(Object(l.e)((function(t){return[x.a.isElementOpen(t,v.a.CALIBRATION_MODAL),x.a.isElementDisabled(t,v.a.CALIBRATION_MODAL),x.a.getMeasurementUnits(t)]}),l.c),3),o=t[0],e=t[1],i=t[2],b=Object(l.d)(),m=w(Object(n.useState)(null),2),g=m[0],E=m[1],k=w(Object(n.useState)(""),2),O=k[0],S=k[1],j=w(Object(n.useState)(0),2),I=j[0],N=j[1],T=w(Object(n.useState)(""),2),L=T[0],D=T[1],R=w(Object(n.useState)(!1),2),z=R[0],F=R[1],B=w(Object(d.a)(),1)[0],H=Object(n.useRef)(null);Object(n.useEffect)((function(){var t;o&&(null==H||null===(t=H.current)||void 0===t||t.focus()),$(p.a.getSelectedAnnotations())}),[o]),Object(n.useEffect)((function(){var t=function(t,o){"selected"===o?$(t):"deselected"===o&&(E(null),S(""),D(""),N(0))};return p.a.addEventListener("annotationSelected",t),function(){return p.a.removeEventListener("annotationSelected",t)}}),[]),Object(n.useEffect)((function(){var t=function(t,o){"modify"===o&&1===t.length&&t[0]===g&&(S(M(g).toFixed(2)),D(g.Scale[1][1]))};return p.a.addEventListener("annotationChanged",t),function(){return p.a.removeEventListener("annotationChanged",t)}}),[g]);var $=function(t){if(1===(null==t?void 0:t.length)&&"distanceMeasurement"===Object(s.g)(t[0])){var o=t[0];E(o);var e=M(o).toFixed(2);S(e),D(o.Scale[1][1]),N(parseFloat(e))}},U=function(t){return g.Scale=t,W()},W=function(){var t=M(g),o=I/t,e=g.Scale;return[[e[0][0],e[0][1]],[e[1][0]*o,L]]},q=function(){b(h.a.closeElements([v.a.CALIBRATION_MODAL]))};return e||!g?null:a.a.createElement(y.a,{onSwipedUp:q,onSwipedDown:q,preventDefaultTouchmoveEvent:!0},a.a.createElement("div",{className:r()({Modal:!0,CalibrationModal:!0,open:o,closed:!o}),onMouseDown:q}," ",a.a.createElement("div",{className:"container",onMouseDown:function(t){return t.stopPropagation()}},a.a.createElement("div",{className:"swipe-indicator"}),a.a.createElement("div",{className:"calibration__header"},B("component.calibration")),a.a.createElement("div",{className:"calibration__body"},a.a.createElement("div",null,B("message.enterMeasurement")),a.a.createElement("div",{className:"calibration__input"},a.a.createElement("input",{className:z?"error":"",ref:H,type:"text",value:O,onChange:function(t){F(!1),S(t.target.value)},onBlur:function(t){var o=t.target.value.trim();if(""===o&&F(!0),C.test(o))0!==parseFloat(o)?(N(parseFloat(o)),S(o)):F(!0);else if(_.test(o)){var e=w(o.split(" "),2),n=e[0],a=e[1];if(Number.isFinite(f(a))){var i=Number(n)+f(a);N(parseFloat(i)),S(i)}else F(!0)}else if(A.test(o))if(Number.isFinite(f(o))){var r=f(o);N(parseFloat(r)),S(r)}else F(!0);else F(!0)}}),a.a.createElement("select",{className:"unitToInput",value:L,onChange:function(t){D(t.target.value)}},i.to.map((function(t){return a.a.createElement("option",{key:t,value:t},t)})))),z?a.a.createElement("div",{className:"errorMeasurement"},B("message.errorEnterMeasurement")):null),a.a.createElement("div",{className:"calibration__footer"},a.a.createElement(c.a,{dataElement:"passwordSubmitButton",label:B("action.apply"),onClick:function(){var t=W(),o=U(t);p.a.setAnnotationStyles(g,{Scale:o}),Object(u.a)("AnnotationCreateDistanceMeasurement","Scale",o),b(h.a.closeElements([v.a.CALIBRATION_MODAL]))},disabled:z})))))};o.default=E}}]);
//# sourceMappingURL=55.chunk.js.map