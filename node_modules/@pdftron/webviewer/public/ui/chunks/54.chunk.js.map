{"version":3,"sources":["webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.scss?f400","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.scss","webpack:///./src/ui/src/components/Bookmark/Bookmark.js","webpack:///./src/ui/src/components/Bookmark/index.js","webpack:///./src/ui/src/components/BookmarksPanel/BookmarksPanel.js","webpack:///./src/ui/src/components/BookmarksPanel/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","propTypes","text","PropTypes","string","isRequired","label","defaultLabel","pageIndex","number","isAdding","bool","isMultiSelectionMode","setSelected","func","onSave","onRemove","onCancel","panelSelector","Bookmark","t","useTranslation","useState","isEditing","setIsEditing","isDefault","setIsDefault","bookmarkText","setBookmarkText","isContextMenuOpen","setContextMenuOpen","undefined","clearSingleClick","setClearSingleClick","inputRef","useRef","isRenameButtonDisabled","onSaveBookmark","trim","onCancelBookmark","setCurrentPage","core","useEffect","current","focus","select","DataElementWrapper","className","classNames","tabIndex","onKeyDown","e","key","onClick","detail","setTimeout","onDoubleClick","clearTimeout","Choice","type","id","stopPropagation","onChange","target","checked","Button","dataElement","img","MoreOptionsContextMenuPopup","anchorButton","shouldDisplayDeleteButton","onClosePopup","onRenameClick","onDeleteClick","name","ref","placeholder","aria-label","value","isSubmitType","disabled","BookmarksPanel","useSelector","state","selectors","isElementDisabled","DataElements","BOOKMARK_PANEL","getBookmarks","getCurrentPage","getPageLabels","isBookmarkIconShortcutVisible","shallowEqual","isDisabled","bookmarks","currentPageIndex","pageLabels","isAddingNewBookmark","setAddingNewBookmark","setMultiSelectionMode","selectingBookmarks","setSelectingBookmarks","dispatch","useDispatch","setBookmarkIconShortcutVisibility","pageIndexes","Object","keys","map","parseInt","index","includes","filter","bm","onRemoveBookmarks","title","confirmationWarning","message","onConfirm","actions","removeBookmark","confirmBtnText","showWarningMessage","data-element","BOOKMARK_MULTI_SELECT","BOOKMARK_SHORTCUT_OPTION","isSwitch","newText","addBookmark","editBookmark","val","find","BOOKMARK_ADD_NEW_BUTTON_CONTAINER","BOOKMARK_ADD_NEW_BUTTON"],"mappings":"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","file":"chunks/54.chunk.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./BookmarksPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.BookmarksPanel{display:flex;flex-direction:column;flex:1}.BookmarksPanel .bookmark-switch{-webkit-font-smoothing:antialiased;margin-top:var(--padding-medium);padding-left:4px}.BookmarksPanel .bookmark-switch label{font-size:11px}.BookmarksPanel .bookmark-outline-single-container{margin-top:var(--padding-medium)}.BookmarksPanel .msg-no-bookmark-outline{margin-top:var(--padding)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React, { useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport core from 'core';\nimport PropTypes from 'prop-types';\n\nimport Button from '../Button';\nimport DataElementWrapper from '../DataElementWrapper';\nimport MoreOptionsContextMenuPopup from '../MoreOptionsContextMenuPopup';\nimport Choice from 'components/Choice';\n\nconst propTypes = {\n  text: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  defaultLabel: PropTypes.string,\n  pageIndex: PropTypes.number.isRequired,\n  isAdding: PropTypes.bool,\n  isMultiSelectionMode: PropTypes.bool,\n  setSelected: PropTypes.func,\n  onSave: PropTypes.func.isRequired,\n  onRemove: PropTypes.func,\n  onCancel: PropTypes.func,\n  panelSelector: PropTypes.string,\n};\n\nconst Bookmark = ({\n  text,\n  label,\n  defaultLabel,\n  pageIndex,\n  isAdding,\n  isMultiSelectionMode,\n  setSelected,\n  onSave,\n  onRemove,\n  onCancel,\n  panelSelector,\n}) => {\n  const [t] = useTranslation();\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [isDefault, setIsDefault] = useState(false);\n  const [bookmarkText, setBookmarkText] = useState(text);\n  const [isContextMenuOpen, setContextMenuOpen] = useState(false);\n  const [clearSingleClick, setClearSingleClick] = useState(undefined);\n  const inputRef = useRef();\n\n  const isRenameButtonDisabled = () => {\n    return !bookmarkText || text === bookmarkText;\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      e.stopPropagation();\n      if (isAdding || (isEditing && !isRenameButtonDisabled())) {\n        onSaveBookmark();\n      }\n    }\n    if (e.key === 'Escape') {\n      onCancelBookmark();\n    }\n  };\n\n  const onSaveBookmark = () => {\n    setIsEditing(false);\n    onSave(bookmarkText.trim() === '' ? t('message.untitled') : bookmarkText);\n  };\n\n  const onCancelBookmark = () => {\n    setIsEditing(false);\n    // on cancel reset local bookmark text\n    isEditing && setBookmarkText(text);\n    isAdding && onCancel();\n  };\n\n  const setCurrentPage = (pageIndex) => {\n    core.setCurrentPage(pageIndex + 1);\n  };\n\n  useEffect(() => {\n    if (bookmarkText !== text) {\n      setBookmarkText(text);\n    }\n  }, [text]);\n\n  useEffect(() => {\n    if (isAdding || isEditing) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n\n    if (!isAdding && !isEditing) {\n      setIsDefault(true);\n    } else {\n      setIsDefault(false);\n    }\n  }, [isEditing]);\n\n  return (\n    <DataElementWrapper\n      className={classNames({\n        'bookmark-outline-single-container': true,\n        'editing': isAdding || isEditing,\n        'default': isDefault,\n        'hover': isContextMenuOpen,\n      })}\n      tabIndex={0}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') {\n          setCurrentPage(pageIndex);\n        }\n      }}\n      onClick={(e) => {\n        if (isDefault && e.detail === 1) {\n          setClearSingleClick(setTimeout(() => {\n            setCurrentPage(pageIndex);\n          }, 300));\n        }\n      }}\n      onDoubleClick={() => {\n        if (isDefault) {\n          clearTimeout(clearSingleClick);\n        }\n      }}\n    >\n      {isMultiSelectionMode &&\n        <Choice\n          type=\"checkbox\"\n          className=\"bookmark-outline-checkbox\"\n          id={`bookmark-checkbox-${pageIndex + 1}`}\n          onClick={(e) => e.stopPropagation()}\n          onChange={(e) => setSelected(pageIndex, e.target.checked)}\n        />\n      }\n\n      <div className=\"bookmark-outline-label-row\">\n        <div className=\"bookmark-outline-label\">{(isAdding || isEditing) ? label : defaultLabel}</div>\n\n        {isDefault &&\n          <>\n            {isMultiSelectionMode &&\n              <Button\n                className=\"bookmark-outline-more-button\"\n                dataElement={`bookmark-more-button-${pageIndex}`}\n                img=\"icon-pencil-line\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setIsEditing(true);\n                }}\n                tabIndex={-1}\n              />\n            }\n            {!isMultiSelectionMode &&\n              <Button\n                className=\"bookmark-outline-more-button\"\n                dataElement={`bookmark-more-button-${panelSelector}-${pageIndex}`}\n                img=\"icon-tool-more\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setContextMenuOpen(true);\n                }}\n                tabIndex={-1}\n              />\n            }\n            {isContextMenuOpen && (\n              <MoreOptionsContextMenuPopup\n                type={'bookmark'}\n                anchorButton={`bookmark-more-button-${panelSelector}-${pageIndex}`}\n                shouldDisplayDeleteButton={true}\n                onClosePopup={() => setContextMenuOpen(false)}\n                onRenameClick={() => {\n                  setContextMenuOpen(false);\n                  setIsEditing(true);\n                }}\n                onDeleteClick={() => {\n                  setContextMenuOpen(false);\n                  onRemove(pageIndex);\n                }}\n              />\n            )}\n\n            <div\n              className=\"bookmark-outline-text bookmark-text-input\"\n              onDoubleClick={() => setIsEditing(true)}\n            >\n              {text}\n            </div>\n          </>\n        }\n\n        {(isAdding || isEditing) &&\n          <>\n            <input\n              type=\"text\"\n              name=\"bookmark\"\n              ref={inputRef}\n              className=\"bookmark-outline-input bookmark-text-input\"\n              placeholder={t('component.bookmarkTitle')}\n              aria-label={t('action.name')}\n              value={bookmarkText}\n              onKeyDown={handleKeyDown}\n              onChange={(e) => setBookmarkText(e.target.value)}\n            />\n\n            <div className=\"bookmark-outline-editing-controls\">\n              <Button\n                className=\"bookmark-outline-cancel-button\"\n                label={t('action.cancel')}\n                onClick={onCancelBookmark}\n              />\n              {isAdding &&\n                <Button\n                  className=\"bookmark-outline-save-button\"\n                  label={t('action.add')}\n                  isSubmitType\n                  onClick={onSaveBookmark}\n                />\n              }\n              {isEditing &&\n                <Button\n                  className=\"bookmark-outline-save-button\"\n                  label={t('action.save')}\n                  isSubmitType\n                  disabled={isRenameButtonDisabled()}\n                  onClick={onSaveBookmark}\n                />\n              }\n            </div>\n          </>\n        }\n      </div>\n    </DataElementWrapper>\n  );\n};\n\nBookmark.propTypes = propTypes;\n\nexport default Bookmark;\n","import Bookmark from './Bookmark';\n\nexport default Bookmark;\n","import React, { useEffect, useState } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\n\nimport Bookmark from 'components/Bookmark';\nimport Button from 'components/Button';\nimport DataElementWrapper from 'components/DataElementWrapper';\nimport DataElements from 'constants/dataElement';\nimport Choice from 'components/Choice';\n\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\n\nimport '../../constants/bookmarksOutlinesShared.scss';\nimport './BookmarksPanel.scss';\n\nconst BookmarksPanel = ({ panelSelector }) => {\n  const [\n    isDisabled,\n    bookmarks,\n    currentPageIndex,\n    pageLabels,\n    isBookmarkIconShortcutVisible\n  ] = useSelector(\n    (state) => [\n      selectors.isElementDisabled(state, DataElements.BOOKMARK_PANEL),\n      selectors.getBookmarks(state),\n      selectors.getCurrentPage(state) - 1,\n      selectors.getPageLabels(state),\n      selectors.isBookmarkIconShortcutVisible(state),\n    ],\n    shallowEqual,\n  );\n\n  const [isAddingNewBookmark, setAddingNewBookmark] = useState(false);\n  const [isMultiSelectionMode, setMultiSelectionMode] = useState(false);\n  const [selectingBookmarks, setSelectingBookmarks] = useState([]);\n\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (isBookmarkIconShortcutVisible && !isDisabled) {\n      core.setBookmarkIconShortcutVisibility(true);\n    } else {\n      core.setBookmarkIconShortcutVisibility(false);\n    }\n  }, [isDisabled, isBookmarkIconShortcutVisible]);\n\n  const pageIndexes = Object.keys(bookmarks).map((pageIndex) => parseInt(pageIndex, 10));\n\n  useEffect(() => {\n    // if bookmark is deleted from the shortcut, should also remove from selectingBookmarks\n    selectingBookmarks.forEach((index) => {\n      if (!pageIndexes.includes(index)) {\n        setSelectingBookmarks(selectingBookmarks.filter((bm) => bm !== index));\n      }\n    });\n\n    const shouldResetMultiSelectMode = pageIndexes.length === 0;\n    if (shouldResetMultiSelectMode) {\n      setMultiSelectionMode(false);\n    }\n  }, [bookmarks]);\n\n  const onRemoveBookmarks = (pageIndexes) => {\n    const title = t('warning.deleteBookmark.title');\n    const message = t('warning.deleteBookmark.message');\n    const confirmationWarning = {\n      message,\n      title,\n      onConfirm: () => {\n        pageIndexes.forEach((pageIndex) => dispatch(actions.removeBookmark(pageIndex)));\n        setSelectingBookmarks([]);\n      },\n      confirmBtnText: t('action.delete'),\n    };\n    dispatch(actions.showWarningMessage(confirmationWarning));\n  };\n\n  if (isDisabled) {\n    return null;\n  }\n\n  return (\n    <div\n      className={`Panel BookmarksPanel bookmark-outline-panel ${panelSelector}`}\n      data-element={DataElements.BOOKMARK_PANEL}\n    >\n      <div className=\"bookmark-outline-panel-header\">\n        <div className=\"header-title\">\n          {t('component.bookmarksPanel')}\n        </div>\n        {!isMultiSelectionMode &&\n          <Button\n            className=\"bookmark-outline-control-button\"\n            dataElement={DataElements.BOOKMARK_MULTI_SELECT}\n            label={t('action.edit')}\n            disabled={isAddingNewBookmark || pageIndexes.length === 0}\n            onClick={() => setMultiSelectionMode(true)}\n          />\n        }\n        {isMultiSelectionMode &&\n          <Button\n            className=\"bookmark-outline-control-button\"\n            dataElement={DataElements.BOOKMARK_MULTI_SELECT}\n            label={t('option.bookmarkOutlineControls.done')}\n            disabled={isAddingNewBookmark}\n            onClick={() => {\n              setMultiSelectionMode(false);\n              setSelectingBookmarks([]);\n            }}\n          />\n        }\n      </div>\n\n      <Choice\n        dataElement={DataElements.BOOKMARK_SHORTCUT_OPTION}\n        type=\"checkbox\"\n        isSwitch\n        id=\"bookmark-view-option\"\n        className=\"bookmark-switch\"\n        label={t('message.viewBookmark')}\n        checked={isBookmarkIconShortcutVisible}\n        onChange={(e) => dispatch(actions.setBookmarkIconShortcutVisibility(e.target.checked))}\n      />\n\n      {!isAddingNewBookmark && pageIndexes.length === 0 && (\n        <div className=\"msg msg-no-bookmark-outline\">{t('message.noBookmarks')}</div>\n      )}\n\n      <div className=\"bookmark-outline-row\">\n        {isAddingNewBookmark &&\n          <Bookmark\n            isAdding\n            label={`${t('component.bookmarkPage')} ${pageLabels[currentPageIndex]} - ${t('component.bookmarkTitle')}`}\n            text={bookmarks[currentPageIndex] ?? ''}\n            pageIndex={currentPageIndex}\n            onSave={(newText) => {\n              dispatch(actions.addBookmark(currentPageIndex, newText));\n              setAddingNewBookmark(false);\n            }}\n            onCancel={() => setAddingNewBookmark(false)}\n            panelSelector={panelSelector}\n          />\n        }\n\n        {pageIndexes.map((pageIndex) => (\n          <Bookmark\n            key={pageIndex}\n            panelSelector={panelSelector}\n            isMultiSelectionMode={isMultiSelectionMode}\n            label={`${t('component.bookmarkPage')} ${pageLabels[pageIndex]} - ${t('component.bookmarkTitle')}`}\n            defaultLabel={`${t('component.bookmarkPage')} ${pageLabels[pageIndex]}`}\n            text={bookmarks[pageIndex]}\n            pageIndex={pageIndex}\n            onSave={(newText) => dispatch(actions.editBookmark(pageIndex, newText))}\n            onRemove={(index) => onRemoveBookmarks([index])}\n            setSelected={(index, val) => {\n              if (selectingBookmarks.find((bm) => bm === index)) {\n                if (!val) {\n                  setSelectingBookmarks(selectingBookmarks.filter((bm) => bm !== index));\n                }\n              } else {\n                if (val) {\n                  setSelectingBookmarks([...selectingBookmarks, index]);\n                }\n              }\n            }}\n          />\n        ))}\n      </div>\n\n      <DataElementWrapper\n        className=\"bookmark-outline-footer\"\n        dataElement={DataElements.BOOKMARK_ADD_NEW_BUTTON_CONTAINER}\n      >\n        {isMultiSelectionMode ?\n          <>\n            <Button\n              className=\"multi-selection-button\"\n              img=\"icon-menu-add\"\n              disabled={selectingBookmarks.length > 0 || !!bookmarks[currentPageIndex] || isAddingNewBookmark}\n              onClick={() => setAddingNewBookmark(true)}\n            />\n            <Button\n              className=\"multi-selection-button\"\n              img=\"icon-delete-line\"\n              disabled={selectingBookmarks.length === 0}\n              onClick={() => onRemoveBookmarks(selectingBookmarks)}\n            />\n          </>\n          :\n          <Button\n            className=\"bookmark-outline-control-button add-new-button\"\n            img=\"icon-menu-add\"\n            dataElement={DataElements.BOOKMARK_ADD_NEW_BUTTON}\n            label={`${t('action.add')} ${t('component.bookmarkPanel')}`}\n            disabled={isAddingNewBookmark || !!bookmarks[currentPageIndex]}\n            onClick={() => setAddingNewBookmark(true)}\n          />\n        }\n      </DataElementWrapper>\n    </div>\n  );\n};\n\nexport default BookmarksPanel;\n","import BookmarksPanel from './BookmarksPanel';\n\nexport default BookmarksPanel;\n"],"sourceRoot":""}