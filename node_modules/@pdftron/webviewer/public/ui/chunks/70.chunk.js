(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1533:function(e,t,a){var n=a(31),r=a(1659);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var l={insert:function(e){if(!window.isApryseWebViewerWebComponent)return void document.head.appendChild(e);let t;t=document.getElementsByTagName("apryse-webviewer"),t.length||(t=function e(t,a=document){const n=[];return a.querySelectorAll(t).forEach(e=>n.push(e)),a.querySelectorAll("*").forEach(a=>{a.shadowRoot&&n.push(...e(t,a.shadowRoot))}),n}("apryse-webviewer"));const a=[];for(let n=0;n<t.length;n++){const r=t[n];if(0===n)r.shadowRoot.appendChild(e),e.onload=function(){a.length>0&&a.forEach(t=>{t.innerHTML=e.innerHTML})};else{const t=e.cloneNode(!0);r.shadowRoot.appendChild(t),a.push(t)}}},singleton:!1};n(r,l);e.exports=r.locals||{}},1659:function(e,t,a){(t=e.exports=a(32)(!1)).push([e.i,".ScaleOverlay{position:absolute;z-index:95;border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background)}.open.ScaleOverlay{visibility:visible}.closed.ScaleOverlay{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.ScaleOverlay{flex-direction:column;font-size:.81rem;padding:.375rem .375rem .375rem 1rem}.ScaleOverlay .divider{width:calc(100% + 1.375rem);height:1px;margin-left:-1rem;background:#cfd4da;margin-top:12px}.ScaleOverlay .scale-overlay-header{position:relative;display:flex;flex-direction:row;justify-content:left;font-weight:400;align-items:center;padding-right:.75rem}.ScaleOverlay .scale-overlay-header .scale-overlay-title{margin-left:.8rem;color:var(--text-color);font-weight:700;line-height:1rem}.ScaleOverlay .scale-overlay-header .add-new-scale{margin-left:1.3rem;min-height:2rem;background-color:transparent;color:#3183c8;font-weight:400;font-size:.8rem;line-height:1rem;border-radius:.3rem;border:1px solid #3183c8;cursor:pointer!important}.ScaleOverlay .scale-overlay-header .scale-overlay-icon{width:1rem;height:1.3rem}.ScaleOverlay .scale-overlay-header .scale-overlay-selector{margin-left:1.3rem;position:relative}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-selection{height:2rem;min-width:9rem;position:relative;background-color:transparent;border:1px solid var(--border);border-radius:.3rem;line-height:2rem;padding:0 32px 0 .5rem;color:var(--text-color);font-weight:400;font-size:.8rem;text-align:left;text-overflow:ellipsis;white-space:nowrap}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-arrow{position:absolute;top:50%;right:8px;transform:translateY(-50%);display:flex;justify-content:center;width:16px;height:16px;padding:2px;color:var(--text-color)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector ul{margin:0;list-style-type:none;position:absolute;min-width:10rem;left:0;top:0;text-align:left;letter-spacing:0;display:none;border-radius:4px;pointer-events:all;z-index:1000;background-color:var(--component-background);box-shadow:0 0 4px #868e96;padding-left:0}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li{display:block;line-height:2rem;height:2rem;position:relative;font-weight:400;font-size:.8rem;padding-left:.5rem;padding-right:32px;max-width:100%}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li :hover{cursor:pointer}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:not(:last-child):not(:first-child) .options:hover{background-color:var(--scale-overlay-item-hover)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:last-child{padding-top:.5rem;padding-bottom:.5rem;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li:last-child :hover{cursor:default}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li .option-selected{color:#3183c8}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li .delete{position:absolute;top:50%;right:8px;width:16px;height:16px;transform:translateY(-50%);border:none;background-color:transparent;padding:0;border-radius:2px;display:flex;align-items:center;justify-content:center}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li .delete .Icon{width:11px;height:11px;display:flex}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .delete:hover{background-color:var(--scale-overlay-item-hover)}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .delete:disabled{background-color:transparent;cursor:not-allowed}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li .add-new-scale{margin-left:0;width:100%}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li .add-new-scale :hover{cursor:pointer}.ScaleOverlay .scale-overlay-header .scale-overlay-selector li .options{border:none;background-color:transparent;padding:0;text-align:left;display:flex;align-items:center;justify-content:space-between;height:100%;z-index:1}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-value{margin-right:1px}.ScaleOverlay .scale-overlay-header .scale-overlay-selector .scale-overlay-list{display:block;pointer-events:all;transform:translateY(0)}.ScaleOverlay .scale-overlay-content{width:192px;min-height:32px;font-weight:400;font-size:13px;line-height:16px;margin-top:16px}.ScaleOverlay .scale-overlay-calibrate{padding-top:20px}.ScaleOverlay .scale-overlay-footer{display:flex;flex-direction:row;justify-content:space-between;width:220px;height:49px;align-items:center}.ScaleOverlay .scale-overlay-footer .calibration-cancel{padding:0;background-color:transparent;color:var(--secondary-button-text);display:flex;align-items:center;justify-content:center;cursor:pointer;border:none;font-size:13px}:host(:not([data-tabbing=true])) .ScaleOverlay .scale-overlay-footer .calibration-cancel,html:not([data-tabbing=true]) .ScaleOverlay .scale-overlay-footer .calibration-cancel{outline:none}.ScaleOverlay .scale-overlay-footer .calibration-cancel:enabled:hover{color:var(--secondary-button-hover)}.ScaleOverlay .scale-overlay-footer .calibration-cancel:disabled{opacity:.5}.ScaleOverlay .scale-overlay-footer .calibration-apply{border:none;background-color:transparent;background:var(--primary-button);border-radius:4px;padding:0 8px;height:32px;width:72px;display:flex;align-items:center;justify-content:center;position:relative;color:var(--primary-button-text);cursor:pointer}:host(:not([data-tabbing=true])) .ScaleOverlay .scale-overlay-footer .calibration-apply,html:not([data-tabbing=true]) .ScaleOverlay .scale-overlay-footer .calibration-apply{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ScaleOverlay .scale-overlay-footer .calibration-apply{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .ScaleOverlay .scale-overlay-footer .calibration-apply{font-size:13px}}.ScaleOverlay .scale-overlay-footer .calibration-apply:enabled:hover{background:var(--primary-button-hover)}.ScaleOverlay .scale-overlay-footer .calibration-apply:disabled{opacity:.5}.ScaleOverlay .MeasurementDetail{word-wrap:break-word;flex-wrap:wrap;font-weight:400;font-size:.81rem;line-height:1rem;margin-bottom:1rem}.ScaleOverlay .MeasurementDetail .header{display:flex;justify-content:left;align-items:center;width:100%;margin-top:.75rem;margin-bottom:.75rem;font-weight:700;font-size:.81rem}.ScaleOverlay .MeasurementDetail .header .icon{width:1.5rem;height:1.5rem;margin-right:.67rem}.ScaleOverlay .MeasurementDetail .scale-input{width:45px}.ScaleOverlay .MeasurementDetail .measurement__detail-container{margin-left:2.17rem}.ScaleOverlay .MeasurementDetail .measurement__detail-container .measurement__detail-item{display:flex;height:1.5rem;align-items:center}.ScaleOverlay .MeasurementDetail .distance_input{display:flex;margin-top:.5rem}.ScaleOverlay .MeasurementDetail .distance_input .distance-show{margin-right:.5rem}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .ScaleOverlay .MeasurementDetail .distance_input .distance-show{width:79px;height:32px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .ScaleOverlay .MeasurementDetail .distance_input .distance-show{width:79px;height:32px}}.ScaleOverlay .MeasurementDetail .angle_input,.ScaleOverlay .MeasurementDetail .measurement__deltas--X,.ScaleOverlay .MeasurementDetail .measurement__deltas--Y{display:flex;margin-top:.5rem}.ScaleOverlay .MeasurementDetail .measurement_list{width:5rem;margin-right:.5rem}",""]),t.locals={LEFT_HEADER_WIDTH:"41px",RIGHT_HEADER_WIDTH:"41px"}},1832:function(e,t,a){"use strict";a.r(t);a(23),a(7),a(51),a(55),a(38),a(19),a(12),a(14),a(13),a(9),a(10),a(11),a(16),a(15),a(20),a(17);var n=a(2),r=(a(34),a(161),a(24),a(42),a(0)),l=a.n(r),o=a(37),i=(a(95),a(106),a(90),a(18)),c=a.n(i),s=a(70),u=a(4),d=a.n(u),m=a(401),p=a(6),f=a(3),v=a(1),y=a(129);function h(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,i=[],c=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=l.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return S(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var O={scales:d.a.arrayOf(d.a.object).isRequired,selectedScales:d.a.arrayOf(d.a.string).isRequired,onScaleSelected:d.a.func.isRequired,onAddingNewScale:d.a.func.isRequired},w=window.Core.Scale,E=function(e){var t=e.scales,a=void 0===t?[]:t,i=e.selectedScales,u=void 0===i?[]:i,d=e.onScaleSelected,b=e.onAddingNewScale,S=g(Object(m.a)(),1)[0],O=Object(p.d)(),E=Object(p.e)((function(e){return f.a.getIsMultipleScalesMode(e)})),M=u.length>1,A=function(e){if(e){var t=new w(e),a=function(e){var t=v.a.getScales(),a=[],n=new Set;return t[e.toString()].forEach((function(e){e instanceof window.Core.Annotations.Annotation&&(n.add(e.PageNumber),a.push(e))})),{measurementsNum:a.length,pages:h(n)}}(t),r={message:!!a.pages.length?l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,S("option.measurement.deleteScaleModal.scaleIsOn-delete-info"),l.a.createElement("b",null," ".concat(S("option.measurement.deleteScaleModal.page-delete-info")," ").concat(a.pages.join(", ")," ")),S("option.measurement.deleteScaleModal.appliedTo-delete-info"),l.a.createElement("b",null," ".concat(a.measurementsNum," ").concat(a.measurementsNum>1?S("option.measurement.deleteScaleModal.measurements"):S("option.measurement.deleteScaleModal.measurement"),"."))),l.a.createElement("span",null," "),l.a.createElement("span",null,S("option.measurement.deleteScaleModal.deletionIs"),l.a.createElement("b",null," ".concat(S("option.measurement.deleteScaleModal.irreversible")," ")),S("option.measurement.deleteScaleModal.willDeleteMeasurement"))),l.a.createElement("p",null,S("option.measurement.deleteScaleModal.confirmDelete"))):l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,S("option.measurement.deleteScaleModal.deletionIs"),l.a.createElement("b",null," ".concat(S("option.measurement.deleteScaleModal.irreversible"),". ")),S("option.measurement.deleteScaleModal.confirmDelete")))),title:"".concat(S("option.measurement.deleteScaleModal.deleteScale")," ").concat(t.toString()),confirmBtnText:S("action.confirm"),onConfirm:function(){return v.a.deleteScale(t)}};O(n.a.showWarningMessage(r))}},x=function(e){var t=v.a.getScalePrecision(e),a=w.getFormattedValue(e.pageScale.value,e.pageScale.unit,t,!1),n=w.getFormattedValue(e.worldScale.value,e.worldScale.unit,t,!1),r="".concat(a," = ").concat(n);return l.a.createElement("div",null,l.a.createElement("span",null,r))},j=S("option.measurement.scaleOverlay.multipleScales");if(u.length&&!M){var C=new w(u[0]);j=x(C)}var N=g(Object(r.useState)(!1),2),T=N[0],_=N[1],k=Object(r.useRef)(null);return Object(y.a)(k,(function(){_(!1)})),l.a.createElement(s.a,{className:"scale-overlay-selector",dataElement:"scaleSelector",tabIndex:0,onClick:function(){_((function(e){return!e}))},ref:k},l.a.createElement("button",{className:"scale-overlay-selection"},j,l.a.createElement(o.a,{className:"scale-overlay-arrow",glyph:"icon-chevron-down"})),T&&l.a.createElement("ul",{className:c()("scale-overlay-list")},l.a.createElement("li",null,l.a.createElement("div",null,j),l.a.createElement(o.a,{className:"scale-overlay-arrow",glyph:"icon-chevron-up"})),a.map((function(e){return l.a.createElement("li",{key:e.toString()},l.a.createElement("button",{className:"delete",onMouseDown:function(t){t.preventDefault(),t.stopPropagation(),A(e.toString())},disabled:a.length<=1},l.a.createElement(o.a,{glyph:"icon-delete-line"})),l.a.createElement("button",{className:c()({options:!0,"option-selected":u.includes(e.toString())}),onMouseDown:function(){return d(u,e.toString())}},x(e)))})),E&&l.a.createElement("li",null,l.a.createElement("button",{onMouseDown:b,className:"add-new-scale"},S("option.measurement.scaleOverlay.addNewScale")))))};E.propTypes=O;var M=E;function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,i=[],c=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=l.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var j={scales:d.a.arrayOf(d.a.object).isRequired,selectedScales:d.a.arrayOf(d.a.string).isRequired,onScaleSelected:d.a.func.isRequired,onAddingNewScale:d.a.func.isRequired},C=function(e){var t=e.scales,a=e.selectedScales,n=e.onScaleSelected,r=e.onAddingNewScale,i=A(Object(m.a)(),1)[0];return l.a.createElement("div",{className:"scale-overlay-header"},l.a.createElement(o.a,{glyph:"ic-calibrate",className:"scale-overlay-icon"}),l.a.createElement("div",{className:"scale-overlay-title"},i("option.measurementOption.scale")),t.length?l.a.createElement(M,{scales:t,selectedScales:a,onScaleSelected:n,onAddingNewScale:r}):l.a.createElement("button",{className:"add-new-scale",onClick:r,"data-element":"addNewScale"},i("option.measurement.scaleOverlay.addNewScale")))};C.propTypes=j;var N=C,T=(a(33),a(407),a(40)),_={distanceMeasurement:"option.measurementOverlay.distanceMeasurement",perimeterMeasurement:"option.measurementOverlay.perimeterMeasurement",areaMeasurement:"option.measurementOverlay.areaMeasurement",rectangularAreaMeasurement:"option.measurementOverlay.areaMeasurement",cloudyRectangularAreaMeasurement:"option.measurementOverlay.areaMeasurement",ellipseMeasurement:"option.measurementOverlay.areaMeasurement",arcMeasurement:"option.measurementOverlay.arcMeasurement"},k=a(343),I=function(e){return 1===e?0:null==e?void 0:e.toString().split(".")[1].length},D=a(35),R=function(e,t,a){var n;if(e&&t)if(a){var r=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),l=Math.sqrt(Math.pow(t.x-a.x,2)+Math.pow(t.y-a.y,2)),o=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));n=Math.acos((l*l+r*r-o*o)/(2*l*r))}else n=Math.atan2(t.y-e.y,t.x-e.x),n=(n=Math.abs(n))>Math.PI/2?Math.PI-n:n;return n};function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,i=[],c=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=l.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var q={'in"':"in","ft'":"ft"};F.propTypes={annotation:d.a.object,isOpen:d.a.bool.isRequired,selectedTool:d.a.object};var U=window.Core.Scale;function F(e){var t,a,n=e.annotation,o=e.isOpen,i=e.selectedTool,c=L(Object(m.a)(),1)[0],s=Object(p.e)((function(e){return f.a.isDocumentReadOnly(e)})),u=null==n?void 0:n.Measure.axis[0].factor,d=(null==n?void 0:n.DisplayUnits[0])||(null==i||null===(t=i.Measure)||void 0===t?void 0:t.unit),y=L(Object(r.useState)(((null==n?void 0:n.getLineLength())*u||0).toFixed(2)),2),h=y[0],g=y[1],b=L(Object(r.useState)(!1),2),S=b[0],O=b[1],w=L(Object(r.useState)(!1),2),E=w[0],M=w[1];Object(r.useEffect)((function(){if(n){var e=function(){g((n.getLineLength()*u).toFixed(2)),H(F())};return v.a.addEventListener("mouseMove",e),function(){v.a.removeEventListener("mouseMove",e)}}H(F())}),[n,F,u,i]);var A=function(e){g(e.target.value),N(e),x()},x=function(){v.a.getTool("AnnotationCreateDistanceMeasurement").finish()},j=function(){v.a.getAnnotationManager().selectAnnotation(n)},C=function(){v.a.getAnnotationManager().deselectAnnotation(n)},N=function(e){if(n){var t=Math.abs(e.target.value);t<n.Precision&&(t=n.Precision,g(t));var a=n.Measure.axis[0].factor;T(t/a)}},T=Object(r.useCallback)((function(e){if(a=n.getLineLength(),r=e,!(Math.abs(a-r)<.1)){var t=I();n.setLineLength(Math.min(t,e)),k()}var a,r}),[n,k,I]),_=function(e){var t,a;return null!=e&&null!==(t=e.DisplayUnits)&&void 0!==t&&t.length&&(a=2===e.DisplayUnits.length&&"ft'"===e.DisplayUnits[0]&&'in"'===e.DisplayUnits[1]?"in":e.DisplayUnits[0]),q[a]||a||q[d]||d},k=Object(r.useCallback)((function(){var e=v.a.getAnnotationManager();e.drawAnnotations(n.PageNumber),e.trigger("annotationChanged",[[n],"modify",{}])}),[n]),I=Object(r.useCallback)((function(){var e,t,a=v.a.getCurrentPage(),r=v.a.getPageWidth(a),l=v.a.getPageHeight(a),o=n.getAngle()*(180/Math.PI).toFixed(2),i=n.getStartPoint(),c=i.x,s=i.y;e=Math.abs(o)<90?r:0,t=o>0?l:0;var u=Math.abs((e-c)/Math.cos(n.getAngle())),d=Math.abs((t-s)/Math.sin(n.getAngle()));return Math.min(u,d)}),[n]),P=function(e){H(e.target.value),function(e){var t=e.target.value*(Math.PI/180)*-1,a=n.getLineLength(),r=n.Start,l=Math.cos(t)*a+r.x,o=Math.sin(t)*a+r.y;n.setEndPoint(l,o),n.adjustRect(),k()}(e),x()},F=Object(r.useCallback)((function(){if(!n)return 0;var e=n.getAngle();return((e=(e*=-1)<0?e+2*Math.PI:e)/Math.PI*180).toFixed(2)}),[n]),W=L(Object(r.useState)(F()),2),B=W[0],H=W[1];return Object(r.useEffect)((function(){o||T(n.getLineLength())}),[n,T,o]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},c("option.measurementOverlay.distance"),":"),n&&S?l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{className:"scale-input",type:"number",min:"0",disabled:s,value:h,autoFocus:!D.m,onChange:function(e){A(e),j()},onBlur:function(e){N(e),O(!1)},onKeyDown:function(e){"Enter"===e.key&&(A(e),C())}}),d):l.a.createElement("div",{onClick:function(){return O(!0)},className:"distance-show"},(null==n||null===(a=n.getMeasurementTextWithScaleAndUnits)||void 0===a?void 0:a.call(n))||0)),l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},c("option.measurementOverlay.angle"),":"),n&&E?l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{className:"scale-input",type:"number",min:"0",max:"360",disabled:s,value:B,autoFocus:!D.m,onChange:function(e){P(e),j()},onBlur:function(){return M(!1)},onKeyDown:function(e){"Enter"===e.key&&(P(e),C())}}),"°"):l.a.createElement("div",{onClick:function(){return M(!0)},className:"distance-show"},B,"°")),function(){var e=n&&R(n.Start,n.End)||0,t=_(n),a=U.getFormattedValue(n&&Math.abs(h*Math.cos(e)),t,null==n?void 0:n.Precision),r=U.getFormattedValue(n&&Math.abs(h*Math.sin(e)),t,null==n?void 0:n.Precision);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},"X:"),l.a.createElement("div",null,a)),l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},"Y:"),l.a.createElement("div",null,r)))}())}var W=F,B=function(e){switch(e){case"ft'":return"ft";case'in"':return"in";case"ft-in":return"ft";default:return e}};function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,i=[],c=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=l.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var V={annotation:function(e,t,a){return e.annotation||e.selectedTool?(e.annotation&&d.a.checkPropTypes({annotation:d.a.shape({Precision:d.a.number,DisplayUnits:d.a.arrayOf(d.a.string),getContents:d.a.func})},{annotation:e.annotation},"prop","EllipseMeasurementOverlay"),null):new Error("One of props 'annotation' or 'selectedTool' was not specified in '".concat(a,"'."))},selectedTool:function(e,t,a){return e.annotation||e.selectedTool?(e.selectedTool&&d.a.checkPropTypes({selectedTool:d.a.shape({defaults:d.a.shape({Precision:d.a.number}),Measure:d.a.shape({unit:d.a.string})})},{selectedTool:e.selectedTool},"prop","EllipseMeasurementOverlay"),null):new Error("One of props 'annotation' or 'selectedTool' was not specified in '".concat(a,"'."))},isOpen:d.a.bool.isRequired};function G(e){var t,a,n,o=e.annotation,i=e.isOpen,c=e.selectedTool,s=Object(m.a)().t,u=Object(p.e)((function(e){return f.a.isDocumentReadOnly(e)})),d=(null==o||null===(t=o.getMeasurementTextWithScaleAndUnits)||void 0===t?void 0:t.call(o))||0,y={precision:o?o.Precision:null==c||null===(a=c.defaults)||void 0===a?void 0:a.Precision,unit:B(((null==o?void 0:o.Scale)||(null==c||null===(n=c.defaults)||void 0===n?void 0:n.Scale))[1][1]),area:d},h=function(){A(g())};Object(r.useEffect)((function(){return h(),v.a.addEventListener("mouseMove",h),function(){v.a.removeEventListener("mouseMove",h)}}),[o]),Object(r.useEffect)((function(){var e=function(e,t){if("deselected"===t){var a=e[0];w(a.getWidth(),a)}};return v.a.addEventListener("annotationSelected",e),function(){v.a.removeEventListener("annotationSelected",e)}}),[]);var g=function(){if(!o)return 0;var e=o&&I(o.Precision)||0,t=o.Measure.axis[0].factor;return((o.Width/2).toFixed(e)*t).toFixed(e)},b=function(e){var t=e.target.value||0,a=t>0?t:1e-4,n=2*(a/o.Measure.axis[0].factor),r=o.getRect(),l={x1:r.x1,y1:r.y1,x2:r.x1+n,y2:r.y1+n};o.setHeight(n),o.setWidth(n),o.resize(l),A(a),S(o),v.a.getTool("AnnotationCreateEllipseMeasurement").finish()},S=function(e){var t=v.a.getAnnotationManager();t.redrawAnnotation(e),t.trigger("annotationChanged",[[e],"modify",[]])},O=Object(r.useCallback)((function(e){var t=v.a.getCurrentPage(),a=v.a.getPageWidth(t),n=v.a.getPageHeight(t),r=a-e.X,l=n-e.Y;return Math.min(r,l)})),w=Object(r.useCallback)((function(e,t){if(e>O(t)){var a=t.getRect(),n=a.x1,r=a.x2,l=a.y1,o=a.y2,i=t.Width,c=t.Height,s=v.a.getCurrentPage(),u=v.a.getPageWidth(s),d=v.a.getPageHeight(s);r>u&&(a.x2=u,i=u-n),o>d&&(a.y2=d,c=d-l),i<u?t.setWidth(i):t.setWidth(u),c<d?t.setHeight(c):t.setHeight(d),t.resize(a),S(t)}}),[O]);Object(r.useEffect)((function(){i||w(o.getWidth(),o)}),[o,w,i]);var E=H(Object(r.useState)(g()),2),M=E[0],A=E[1];return l.a.createElement("div",{className:"measurement__detail-container"},l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},s("option.shared.precision"),":"),k.q[y.precision]||y.precision),l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},s("option.measurementOverlay.area"),":"),l.a.createElement("div",{className:"distance-show"},y.area)),l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},s("option.measurementOverlay.radius"),":"),o?l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{autoFocus:!D.m,className:"scale-input",type:"number",min:"0",disabled:u,value:M,onChange:function(e){b(e),v.a.getAnnotationManager().selectAnnotation(o)},onBlur:function(e){return function(e){var t=Math.abs(e.target.value),a=o.Measure.axis[0].factor;w(2*(t/a),o),h()}(e)},onKeyDown:function(e){"Enter"===e.key&&(b(e),v.a.getAnnotationManager().deselectAnnotation(o))}}),y.unit):l.a.createElement("div",null,"0")))}G.propTypes=V;var Y=G;a(1533);function $(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var X={annotation:d.a.object,isOpen:d.a.bool.isRequired,selectedTool:d.a.object},J=function(e){var t,a,n,i,c=e.annotation,s=e.isOpen,u=e.selectedTool,d=Object(m.a)().t,p=Object(r.useMemo)((function(){var e,t,a,n,r=c?Object(T.g)(c):Object(T.j)(u.name);return{key:r,icon:Object(T.e)(r).icon,color:c?c.Color.toHexString():null==u||null===(e=u.defaults)||void 0===e||null===(t=e.StrokeColor)||void 0===t?void 0:t.toHexString(),contents:c?null===(a=c.getMeasurementTextWithScaleAndUnits)||void 0===a?void 0:a.call(c):0,precision:c?c.Precision:null==u||null===(n=u.defaults)||void 0===n?void 0:n.Precision}}));return l.a.createElement("div",{className:"MeasurementDetail"},(t=p.key,a=p.icon,n=p.color,i=_[t],l.a.createElement("div",{className:"header"},l.a.createElement(o.a,{glyph:a,color:n,className:"icon"}),l.a.createElement("div",null,d(i)))),function(){var e,t,a=p.key,n=p.precision;return"ellipseMeasurement"===a?l.a.createElement(Y,{annotation:c,selectedTool:u,isOpen:s}):l.a.createElement("div",{className:"measurement__detail-container"},l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},d("option.shared.precision"),":"),k.q[n]||n),"distanceMeasurement"===a&&l.a.createElement(W,{annotation:c,isOpen:s,selectedTool:u}),["rectangularAreaMeasurement","cloudyRectangularAreaMeasurement","perimeterMeasurement","areaMeasurement"].includes(a)&&function(){var e=p.key,t=p.contents,a={distanceMeasurement:d("option.measurementOverlay.distance"),perimeterMeasurement:d("option.measurementOverlay.perimeter"),areaMeasurement:d("option.measurementOverlay.area"),rectangularAreaMeasurement:d("option.measurementOverlay.area"),cloudyRectangularAreaMeasurement:d("option.measurementOverlay.area")};return l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},a[e],":"),t)}(),"arcMeasurement"===a&&(t=(null==c?void 0:c.Length)||0,l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},d("option.measurementOverlay.length"))," ",t)),"arcMeasurement"===a&&(e=(null==c?void 0:c.Radius)||0,l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},d("option.measurementOverlay.radius"))," ",e)),!["rectangularAreaMeasurement","distanceMeasurement","cloudyRectangularAreaMeasurement"].includes(a)&&function(){if(!c)return l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},d("option.measurementOverlay.angle"),":")," 0°");var e=p.key,t=function(e){var t=e.getPath(),a=t.length;return[t[a-3],t[a-2],t[a-1]]},a={distanceMeasurement:function(e){return[e.Start,e.End]},perimeterMeasurement:t,areaMeasurement:t,rectangularAreaMeasurement:t,cloudyRectangularAreaMeasurement:t,arcMeasurement:t}[e](c).filter((function(e){return!!e})),n=R.apply(void 0,$(a));if(n){var r=I(c.Precision);n=(n/Math.PI*180).toFixed(r)}return"arcMeasurement"===e&&(n=c.Angle.toFixed(2)),void 0!==n&&l.a.createElement("div",{className:"measurement__detail-item"},l.a.createElement("div",{className:"measurement_list"},d("option.measurementOverlay.angle"),":"),n,"°")}())}())};J.propTypes=X;var Q=J;function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,i=[],c=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=l.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var te=window.Core.Scale,ae={tempScale:d.a.string,onCancelCalibrationMode:d.a.func,onApplyCalibration:d.a.func},ne=function(e){var t,a=e.tempScale,n=e.onCancelCalibrationMode,r=e.onApplyCalibration,i=Z(Object(m.a)(),1)[0],c=Object(p.e)((function(e){return f.a.isElementOpen(e,"annotationPopup")})),s=c&&a;return l.a.createElement("div",{className:"scale-overlay-calibrate"},l.a.createElement("div",{className:"scale-overlay-header"},l.a.createElement(o.a,{glyph:"ic-calibrate",className:"scale-overlay-icon"}),l.a.createElement("div",{className:"scale-overlay-title"},i("option.measurement.scaleModal.calibrate"))),l.a.createElement("div",{className:"scale-overlay-content"},i(s?"option.measurement.scaleOverlay.inputKnowDimension":"option.measurement.scaleOverlay.selectTwoPoints")),l.a.createElement("div",{className:"divider"}),l.a.createElement("div",{className:"scale-overlay-footer"},l.a.createElement("button",{className:"calibration-cancel",onMouseDown:n},i("action.cancel")),l.a.createElement("button",{className:"calibration-apply",disabled:!(c&&a&&(null===(t=new te(a).worldScale)||void 0===t?void 0:t.value)>0),"data-element":"calibrationApply",onMouseDown:r,onTouchStart:r},i("action.apply"))))};ne.propTypes=ae;var re=ne;function le(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,i=[],c=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=l.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return ce(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ce(e,t):void 0}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var se=window.Core.Scale,ue={annotations:d.a.arrayOf(d.a.object).isRequired,selectedTool:d.a.object,updateIsCalibration:d.a.func.isRequired,enableOrDisableToolElements:d.a.func.isRequired,onScaleSelected:d.a.func.isRequired,onCancelCalibrationMode:d.a.func.isRequired,onApplyCalibration:d.a.func.isRequired,onAddingNewScale:d.a.func.isRequired},de=function(e){var t=e.annotations,a=e.selectedTool,n=e.updateIsCalibration,o=e.enableOrDisableToolElements,i=e.onScaleSelected,c=e.onCancelCalibrationMode,s=e.onApplyCalibration,u=e.onAddingNewScale,d=e.forceUpdate,m=oe(Object(p.e)((function(e){return[f.a.getCalibrationInfo(e),f.a.getActiveToolName(e)]}),p.c),2),y=m[0],h=y.isCalibration,g=y.tempScale,b=y.previousToolName,S=void 0===b?"AnnotationCreateDistanceMeasurement":b,O=y.isFractionalUnit,w=m[1],E=oe(Object(r.useState)(v.a.getScales()),2),M=E[0],A=E[1],x=!(!Object.keys(M).length||!a&&(!t.length||t.length>1));Object(r.useEffect)((function(){d()}),[M]),Object(r.useEffect)((function(){var e=function(e){A(e)},t=function(){A(v.a.getScales())},a=function(){u()};return v.a.addEventListener("scaleUpdated",e),v.a.addEventListener("createAnnotationWithNoScale",a),v.a.addEventListener("annotationsLoaded",t),v.a.addEventListener("annotationChanged",t),function(){v.a.removeEventListener("scaleUpdated",e),v.a.removeEventListener("createAnnotationWithNoScale",a),v.a.removeEventListener("annotationsLoaded",t),v.a.removeEventListener("annotationChanged",t)}}),[]),Object(r.useEffect)((function(){"AnnotationCreateCalibrationMeasurement"===w?(!h&&n(!0),o(!0)):(n(!1),o(!1))}),[w,n,o]);var j=Object(r.useMemo)((function(){var e=new Set;return[].concat(le(t),[a]).forEach((function(t){var a,n=null==t||null===(a=t.Measure)||void 0===a?void 0:a.scale;n&&!e.has(n)&&e.add(n)})),le(e)}),[t,a,M]),C=Object.keys(M).map((function(e){return new se(e)}));return h?l.a.createElement(re,{tempScale:g,onCancelCalibrationMode:function(){return c(S)},onApplyCalibration:function(){return s(S,g,O)},previousToolName:S}):l.a.createElement(l.a.Fragment,null,l.a.createElement(N,{scales:C,selectedScales:j,onScaleSelected:i,onAddingNewScale:u}),x&&l.a.createElement(Q,{annotation:t.length>1?null:t[0]||null,selectedTool:a,isOpen:!0}))};de.propTypes=ue;var me=Object(r.memo)(de),pe=a(164),fe=a.n(pe),ve=a(5);function ye(e){return function(e){if(Array.isArray(e))return be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,i=[],c=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=l.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,t)||ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){if(e){if("string"==typeof e)return be(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Se=window.Core.Scale,Oe=["distanceToolGroupButton","arcMeasurementToolGroupButton","perimeterToolGroupButton","areaToolGroupButton","rectangleAreaToolGroupButton","ellipseAreaToolGroupButton","countToolGroupButton","cloudyRectangleAreaToolGroupButton","arcToolGroupButton"];t.default=function(e){var t=e.annotations,a=e.selectedTool,o=Object(p.d)(),i=he(Object(m.a)(),1)[0],s=he(Object(p.e)((function(e){return[f.a.isElementDisabled(e,ve.a.SCALE_OVERLAY_CONTAINER),f.a.isElementOpen(e,ve.a.SCALE_OVERLAY_CONTAINER),f.a.getScaleOverlayPosition(e)]})),3),u=s[0],d=s[1],y=s[2],h=he(Object(r.useState)({x:0,y:0}),2),g=h[0],b=h[1],S=he(Object(r.useReducer)((function(e){return e+1}),0,(function(){return 0})),2)[1],O=he(Object(p.e)((function(e){return[f.a.getDocumentContainerWidth(e),f.a.getDocumentContainerHeight(e)]})),2),w=O[0],E=O[1],M=Object(r.useRef)(null),A=v.a.getViewerElement(),x=v.a.getScrollViewElement(),j=function(){var e=y.split("-"),t={left:0,top:0};if("top"===e[0])t.top=(null==A?void 0:A.offsetTop)+10||85;else{var a=400;null!=M&&M.current&&(a=M.current.getBoundingClientRect().height),t.top=E+(null==x?void 0:x.offsetTop)-10-a||85}if("right"===e[1])t.left=.666*w,A&&null!=M&&M.current&&(t.left=Math.min((null==A?void 0:A.offsetLeft)+(null==A?void 0:A.offsetWidth)+10||t.left,w-M.current.getBoundingClientRect().width-10));else{if(A&&null!=M&&M.current){var n=M.current.getBoundingClientRect().width;t.left=(null==A?void 0:A.offsetLeft)-10-n||10,x&&t.left<x.offsetLeft&&(t.left=x.offsetLeft+10)}(!t.left||isNaN(t.left)||t.left<0)&&(t.left=10)}return t}();Object(r.useEffect)((function(){b({x:0,y:0})}),[y]);var C,N,T=function(e,t){var a=t.x,n=t.y;b({x:a,y:n})},_=Object(r.useCallback)((function(e){o(n.a.updateCalibrationInfo({isCalibration:e}))}),[]),k=Object(r.useCallback)((function(e){Oe.forEach((function(t){o(n.a.setCustomElementOverrides(t,{disabled:e}))}))}),[]),I=Object(r.useCallback)((function(e){e&&function(e){o(n.a.setSelectedScale(e))}(new Se(e)),o(n.a.openElements([ve.a.SCALE_MODAL])),o(n.a.setIsAddingNewScale())}),[]),D=Object(r.useCallback)((function(e,n){var r=new Se(n);if(1===e.length&&e.includes(n))I(n);else{var l=[].concat(ye(t),[a]),o=v.a.getDocumentViewer().getMeasurementManager().getOldScalesToDeleteAfterApplying({scale:r,applyTo:l})[0],i=function(){v.a.createAndApplyScale(r,[].concat(ye(t),[a]))};o?R(o,i):i()}}),[t,a]),R=function(e,t){var a={message:l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",null,i("option.measurement.deleteScaleModal.ifChangeScale"),l.a.createElement("b",null,e),i("option.measurement.deleteScaleModal.notUsedWillDelete"))),l.a.createElement("p",null,l.a.createElement("span",null,i("option.measurement.deleteScaleModal.ifToContinue")))),title:"".concat(i("option.measurement.deleteScaleModal.deleteScale")," ").concat(e),confirmBtnText:i("action.confirm"),onConfirm:function(){return t()}};o(n.a.showWarningMessage(a))},L=Object(r.useCallback)((function(e){v.a.setToolMode(e),_(!1),o(n.a.setIsElementHidden(ve.a.SCALE_MODAL,!1))}),[]),P=Object(r.useCallback)((function(e,a,r){o(n.a.updateCalibrationInfo({isCalibration:!1,tempScale:a,isFractionalUnit:r})),o(n.a.setIsElementHidden(ve.a.SCALE_MODAL,!1)),v.a.setToolMode(e),v.a.deleteAnnotations([t[0]])}),[t]),q=Object(r.useCallback)((function(){I(),o(n.a.setIsAddingNewScale(!0))}),[]);return!u&&l.a.createElement(fe.a,{position:g,bounds:(C=y.split("-"),N={top:0,bottom:0,left:0,right:0},"top"===C[0]?(N.top=0,N.bottom=E-20,M.current?N.bottom-=M.current.getBoundingClientRect().height:N.bottom-=85):(N.top=20-E,M.current?N.top+=M.current.getBoundingClientRect().height:N.top+=85,N.bottom=0),"right"===C[1]?(N.left=-w,N.right=w/3,j&&(N.right=w-j.left)):(N.left=null==x?void 0:x.offsetLeft,j&&(N.left=(null==x?void 0:x.offsetLeft)-j.left+10),N.right=w-10-35,j&&(N.right-=j.left)),N),onDrag:T,onStop:T,cancel:".scale-overlay-selector, .add-new-scale"},l.a.createElement("div",{className:c()({Overlay:!0,ScaleOverlay:!0,open:d,closed:!d}),"data-element":ve.a.SCALE_OVERLAY_CONTAINER,style:j,ref:M},l.a.createElement(me,{annotations:t,selectedTool:a,updateIsCalibration:_,enableOrDisableToolElements:k,onScaleSelected:D,onCancelCalibrationMode:L,onApplyCalibration:P,onAddingNewScale:q,forceUpdate:S})))}}}]);
//# sourceMappingURL=70.chunk.js.map