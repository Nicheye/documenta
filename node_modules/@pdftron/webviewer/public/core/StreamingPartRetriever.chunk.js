/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[11],{572:function(xa,ta,h){h.r(ta);var ra=h(0),na=h(1);h.n(na);var pa=h(3),ja=h(189);xa=h(55);var ka=h(117),ea=h(317),y=h(95),z=h(316);h=h(486);var r=window,n=function(){function a(e,w,aa){var ba=-1===e.indexOf("?")?"?":"&";switch(w){case y.a.NEVER_CACHE:this.url=e+ba+"_="+Object(na.uniqueId)();break;default:this.url=e}this.Bf=aa;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=z.a.NOT_STARTED}a.prototype.start=function(e,w){var aa=this,ba=this,ha=this.request,x;ba.XC=0;e&&Object.keys(e).forEach(function(ca){aa.request.setRequestHeader(ca,e[ca])});w&&(this.request.withCredentials=w);this.mL=setInterval(function(){var ca=0===window.document.URL.indexOf("file:///");ca=200===ha.status||
ca&&0===ha.status;if(ha.readyState!==z.b.DONE||ca){try{ha.responseText}catch(fa){return}ba.XC<ha.responseText.length&&(x=ba.HBa())&&ba.trigger(a.Events.DATA,[x]);0===ha.readyState&&(clearInterval(ba.mL),ba.trigger(a.Events.DONE))}else clearInterval(ba.mL),ba.trigger(a.Events.DONE,["Error received return status "+ha.status])},1E3);this.request.send(null);this.status=z.a.STARTED};a.prototype.HBa=function(){var e=this.request,w=e.responseText;if(0!==w.length)if(this.XC===w.length)clearInterval(this.mL),
this.trigger(a.Events.DONE);else return w=Math.min(this.XC+3E6,w.length),e=r.y5(e,this.XC,!0,w),this.XC=w,e};a.prototype.abort=function(){clearInterval(this.mL);var e=this;this.request.onreadystatechange=function(){Object(pa.j)("StreamingRequest aborted");e.status=z.a.ABORTED;return e.trigger(a.Events.ABORTED)};this.request.abort()};a.prototype.finish=function(){var e=this;this.request.onreadystatechange=function(){e.status=z.a.SUCCESS;return e.trigger(a.Events.DONE)};this.request.abort()};a.Events=
{DONE:"done",DATA:"data",ABORTED:"aborted"};return a}();Object(xa.a)(n);var f;(function(a){a[a.LOCAL_HEADER=0]="LOCAL_HEADER";a[a.FILE=1]="FILE";a[a.CENTRAL_DIR=2]="CENTRAL_DIR"})(f||(f={}));var b=function(a){function e(){var w=a.call(this)||this;w.buffer="";w.state=f.LOCAL_HEADER;w.eX=4;w.Dp=null;w.Yx=ja.c;w.sr={};return w}Object(ra.c)(e,a);e.prototype.zBa=function(w){var aa;for(w=this.buffer+w;w.length>=this.Yx;)switch(this.state){case f.LOCAL_HEADER:this.Dp=aa=this.LBa(w.slice(0,this.Yx));if(aa.My!==
ja.g)throw Error("Wrong signature in local header: "+aa.My);w=w.slice(this.Yx);this.state=f.FILE;this.Yx=aa.CP+aa.Bu+aa.yB+this.eX;this.trigger(e.Events.HEADER,[aa]);break;case f.FILE:this.Dp.name=w.slice(0,this.Dp.Bu);this.sr[this.Dp.name]=this.Dp;aa=this.Yx-this.eX;var ba=w.slice(this.Dp.Bu+this.Dp.yB,aa);this.trigger(e.Events.FILE,[this.Dp.name,ba,this.Dp.XP]);w=w.slice(aa);if(w.slice(0,this.eX)===ja.h)this.state=f.LOCAL_HEADER,this.Yx=ja.c;else return this.state=f.CENTRAL_DIR,!0}this.buffer=w;
return!1};e.Events={HEADER:"header",FILE:"file"};return e}(ea.a);Object(xa.a)(b);xa=function(a){function e(w,aa,ba,ha,x){ba=a.call(this,w,ba,ha)||this;ba.url=w;ba.stream=new n(w,aa);ba.He=new b;ba.Z9=window.createPromiseCapability();ba.E$={};ba.Bf=x;return ba}Object(ra.c)(e,a);e.prototype.bE=function(w){var aa=this;this.request([this.gm,this.eo,this.fm]);this.stream.addEventListener(n.Events.DATA,function(ba){try{if(aa.He.zBa(ba))return aa.stream.finish()}catch(ha){throw aa.stream.abort(),aa.Pt(ha),
w(ha),ha;}});this.stream.addEventListener(n.Events.DONE,function(ba){aa.WAa=!0;aa.Z9.resolve();ba&&(aa.Pt(ba),w(ba))});this.He.addEventListener(b.Events.HEADER,Object(na.bind)(this.D$,this));this.He.addEventListener(b.Events.FILE,Object(na.bind)(this.bCa,this));return this.stream.start(this.Bf,this.withCredentials)};e.prototype.r5=function(w){var aa=this;this.Z9.promise.then(function(){w(Object.keys(aa.He.sr))})};e.prototype.ds=function(){return!0};e.prototype.request=function(w){var aa=this;this.WAa&&
w.forEach(function(ba){aa.E$[ba]||aa.eIa(ba)})};e.prototype.D$=function(){};e.prototype.abort=function(){this.stream&&this.stream.abort()};e.prototype.eIa=function(w){this.trigger(ka.a.Events.PART_READY,[{Lb:w,error:"Requested part not found",bl:!1,di:!1}])};e.prototype.bCa=function(w,aa,ba){this.E$[w]=!0;this.trigger(ka.a.Events.PART_READY,[{Lb:w,data:aa,bl:!1,di:!1,error:null,qe:ba}])};return e}(ka.a);Object(h.a)(xa);Object(h.b)(xa);ta["default"]=xa}}]);}).call(this || window)
