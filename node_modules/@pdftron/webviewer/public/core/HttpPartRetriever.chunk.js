/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{563:function(xa,ta,h){h.r(ta);h.d(ta,"ByteRangeRequest",function(){return w});var ra=h(0),na=h(1);h.n(na);var pa=h(3),ja=h(189);xa=h(117);var ka=h(317),ea=h(90),y=h(95),z=h(316),r=h(209);h=h(486);var n=[],f=[],b=window,a=function(){return function(){this.Up=1}}(),e;(function(ba){ba[ba.UNSENT=0]="UNSENT";ba[ba.DONE=4]="DONE"})(e||(e={}));var w=function(){function ba(ha,x,ca,fa){var ma=this;this.url=ha;this.range=x;this.Bf=ca;
this.withCredentials=fa;this.Uga=e;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);b.Uint8Array&&(this.request.responseType="arraybuffer");fa&&(this.request.withCredentials=fa);aa.DISABLE_RANGE_HEADER||(Object(na.isUndefined)(x.stop)?this.request.setRequestHeader("Range","bytes="+x.start):this.request.setRequestHeader("Range",["bytes=",x.start,"-",x.stop-1].join("")));ca&&Object.keys(ca).forEach(function(la){ma.request.setRequestHeader(la,ca[la])});this.request.overrideMimeType?
this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=z.a.NOT_STARTED}ba.prototype.start=function(ha){var x=this,ca=this.request;ca.onreadystatechange=function(){if(x.aborted)return x.status=z.a.ABORTED,ha({code:z.a.ABORTED});if(this.readyState===x.Uga.DONE){x.vJ();var fa=0===window.document.URL.indexOf("file:///");200===ca.status||206===ca.status||fa&&0===ca.status?(fa=b.y5(this),x.nX(fa,ha)):(x.status=z.a.ERROR,
ha({code:x.status,status:x.status}))}};this.request.send(null);this.status=z.a.STARTED};ba.prototype.nX=function(ha,x){this.status=z.a.SUCCESS;if(x)return x(!1,ha)};ba.prototype.abort=function(){this.vJ();this.aborted=!0;this.request.abort()};ba.prototype.vJ=function(){var ha=Object(r.c)(this.url,this.range,f);-1!==ha&&f.splice(ha,1);if(0<n.length){ha=n.shift();var x=new ba(ha.url,ha.range,this.Bf,this.withCredentials);ha.request=x;f.push(ha);x.start(Object(r.d)(ha))}};ba.prototype.extend=function(ha){var x=
Object.assign({},this,ha.prototype);x.constructor=ha;return x};return ba}(),aa=function(ba){function ha(x,ca,fa,ma,la){fa=ba.call(this,x,fa,ma)||this;fa.Rl={};fa.CH=ca;fa.url=x;fa.DISABLE_RANGE_HEADER=!1;fa.RD=w;fa.CY=3;fa.Bf=la||{};return fa}Object(ra.c)(ha,ba);ha.prototype.cB=function(x,ca,fa){var ma=-1===x.indexOf("?")?"?":"&";switch(fa){case !1:case y.a.NEVER_CACHE:x=x+ma+"_="+Object(na.uniqueId)();break;case !0:case y.a.CACHE:x=x+ma+"_="+ca.start+","+(Object(na.isUndefined)(ca.stop)?"":ca.stop)}return x};
ha.prototype.C2=function(x,ca,fa,ma){void 0===fa&&(fa={});return new this.RD(x,ca,fa,ma)};ha.prototype.Uqa=function(x,ca,fa,ma,la){for(var ia=0;ia<n.length;ia++)if(Object(na.isEqual)(n[ia].range,ca)&&Object(na.isEqual)(n[ia].url,x))return n[ia].Vi.push(ma),n[ia].IK++,null;for(ia=0;ia<f.length;ia++)if(Object(na.isEqual)(f[ia].range,ca)&&Object(na.isEqual)(f[ia].url,x))return f[ia].Vi.push(ma),f[ia].IK++,null;fa={url:x,range:ca,CH:fa,Vi:[ma],IK:1};if(0===n.length&&f.length<this.CY)return f.push(fa),
fa.request=this.C2(x,ca,la,this.withCredentials),fa;n.push(fa);return null};ha.prototype.Rr=function(x,ca,fa){var ma=this.cB(x,ca,this.CH);(x=this.Uqa(ma,ca,this.CH,fa,this.Bf))&&x.request.start(Object(r.d)(x));return function(){var la=Object(r.c)(ma,ca,f);if(-1!==la){var ia=--f[la].IK;0===ia&&f[la].request&&f[la].request.abort()}else la=Object(r.c)(ma,ca,n),-1!==la&&(ia=--n[la].IK,0===ia&&n.splice(la,1))}};ha.prototype.P4=function(){return{start:-ja.a}};ha.prototype.Eva=function(){var x=-(ja.a+ja.e);
return{start:x-ja.d,end:x}};ha.prototype.Tx=function(x){var ca=this;this.KH=!0;var fa=ja.a;this.Rr(this.url,this.P4(),function(ma,la,ia){function qa(){var oa=ca.He.M4();ca.Rr(ca.url,oa,function(sa,ua){if(sa)return Object(pa.j)("Error loading central directory: "+sa),x(sa);ua=Object(ea.a)(ua);if(ua.length!==oa.stop-oa.start)return x("Invalid XOD file: Zip central directory data is wrong size! Should be "+(oa.stop-oa.start)+" but is "+ua.length);ca.He.u$(ua);ca.OP=!0;ca.KH=!1;return x(!1)})}if(ma)return Object(pa.j)("Error loading end header: "+
ma),x(ma,la,ia);la=Object(ea.a)(la);if(la.length!==fa)return x("Invalid XOD file: Zip end header data is wrong size!");try{ca.He=new ka.a(la)}catch(oa){return x(oa)}ca.He.$xa?ca.Rr(ca.url,ca.Eva(),function(oa,sa){if(oa)return Object(pa.j)("Error loading zip64 header: "+oa),x(oa);sa=Object(ea.a)(sa);ca.He.Aya(sa);qa()}):qa()})};ha.prototype.r5=function(x){x(Object.keys(this.He.sr))};ha.prototype.vV=function(x,ca){var fa=this;if(this.He.l2(x)){var ma=this.He.WB(x);if(ma in this.Rl){var la=this.rj[x];
la.sw=this.Rl[ma];la.sw.Up++;la.cancel=la.sw.cancel}else{var ia=this.He.pta(x),qa=this.Rr(this.url,ia,function(sa,ua){sa?(Object(pa.j)('Error loading part "'+x+'": '+sa),fa.Rr(fa.url,ia,function(wa,Ca){if(wa)return ca(wa,x);fa.y$(Ca,ia,ma,x,ca)})):fa.y$(ua,ia,ma,x,ca)}),oa=this.rj[x];oa&&(oa.oca=!0,oa.cancel=function(){oa.sw.Up--;0===oa.sw.Up&&(qa(),delete fa.Rl[ma])},this.Rl[ma]=new a(ma),oa.sw=this.Rl[ma],oa.sw.cancel=oa.cancel)}}else delete this.rj[x],ca(Error('File not found: "'+x+'"'),x)};ha.prototype.y$=
function(x,ca,fa,ma,la){if(x.length!==ca.stop-ca.start)la(Error("Part data is wrong size!"),ma);else{do{if(!this.Rl[fa])return;ma=this.Rl[fa].Up;for(var ia=ca.Ou.length,qa=0;qa<ia;++qa){var oa=ca.Ou[qa];la(!1,oa.Lu,x["string"===typeof x?"substring":"subarray"](oa.start,oa.stop),this.He.O6(oa.Lu));oa.Lu in this.rj&&delete this.rj[oa.Lu]}}while(ma!==this.Rl[fa].Up);delete this.Rl[fa]}};ha.DISABLE_RANGE_HEADER=!1;ha.CY=3;return ha}(xa.a);(function(ba){function ha(x,ca,fa){var ma=ba.call(this)||this,
la;for(la in x)ma[la]=x[la];ma.eNa=x;ma.startOffset=ca;ma.endOffset=fa;ma.C2=function(ia,qa,oa,sa){Object(na.isUndefined)(qa.stop)?(qa.start+=ma.endOffset,qa.stop=ma.endOffset):(qa.start+=ma.startOffset,qa.stop+=ma.startOffset);ia=ma.cB(ma.url,qa,ma.CH);return new x.RD(ia,qa,oa,sa)};return ma}Object(ra.c)(ha,ba);return ha})(aa);Object(h.a)(aa);Object(h.b)(aa);ta["default"]=aa}}]);}).call(this || window)
